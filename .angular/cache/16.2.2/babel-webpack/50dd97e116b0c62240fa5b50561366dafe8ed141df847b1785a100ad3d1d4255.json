{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"red\": a0,\n    \"green\": a1,\n    \"yellow\": a2\n  };\n};\nexport class TrafficLightComponent {\n  constructor() {\n    this.config = {\n      red: {\n        duration: 4000,\n        next: 'green'\n      },\n      yellow: {\n        duration: 500,\n        next: 'red'\n      },\n      green: {\n        duration: 3000,\n        next: 'yellow'\n      }\n    };\n    this.stop = false;\n    this.c = '';\n  }\n  ngOnInit() {\n    this.lights('red');\n  }\n  lights(color) {\n    const {\n      duration,\n      next\n    } = this.config[color];\n    this.c = color;\n    if (stop === false) {\n      setTimeout(() => {\n        this.lights(next);\n      }, duration);\n    }\n    // console.log(this.config[color])\n    // setInterval(()=>{this.lights(color.next)}, color.duration)\n    // setTimeout(()=>{\n    //\n    //   if(!this.stop){\n    //     this.lights(this.config.color.next)\n    //   }\n    // }, color.duration);\n  }\n\n  stopLights() {\n    this.stop = true;\n  }\n}\n_class = TrafficLightComponent;\n_class.ɵfac = function TrafficLightComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-traffic-light\"]],\n  decls: 6,\n  vars: 5,\n  consts: [[\"id\", \"trafficLightContainer\"], [\"id\", \"red\", 3, \"ngClass\"], [\"id\", \"yellow\"], [\"id\", \"green\"], [\"type\", \"button\", 3, \"click\"]],\n  template: function TrafficLightComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function TrafficLightComponent_Template_button_click_4_listener() {\n        return ctx.stopLights();\n      });\n      i0.ɵɵtext(5, \"Stop\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(1, _c0, ctx.c == \"red\", ctx.c == \"green\", ctx.c == \"yellow\"));\n    }\n  },\n  dependencies: [i1.NgClass],\n  styles: [\"#trafficLightContainer[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: inline-flex;\\n  justify-content: center;\\n  padding: 5px;\\n  margin: 5px;\\n  background-color: black;\\n  border-radius: 15%;\\n  box-sizing: content-box;\\n}\\n\\n#red[_ngcontent-%COMP%]{\\n  display: block;\\n  height: 50px;\\n  width: 50px;\\n  border: black 1px solid;\\n  border-radius: 50%;\\n\\n}\\n\\n#yellow[_ngcontent-%COMP%]{\\n  display: block;\\n  height: 50px;\\n  width: 50px;\\n  border: black 1px solid;\\n  border-radius: 50%;\\n}\\n\\n#green[_ngcontent-%COMP%]{\\n  display: block;\\n  height: 50px;\\n  width: 50px;\\n  border: black 1px solid;\\n  border-radius: 50%;\\n}\\n\\n.red[_ngcontent-%COMP%]{\\n  background-color: red;\\n}\\n\\n.yellow[_ngcontent-%COMP%]{\\n  background-color: yellow;\\n}\\n\\n.green[_ngcontent-%COMP%]{\\n  background-color: green;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdHJhZmZpYy1saWdodC90cmFmZmljLWxpZ2h0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1osV0FBVztFQUNYLHVCQUF1QjtFQUN2QixrQkFBa0I7RUFDbEIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsY0FBYztFQUNkLFlBQVk7RUFDWixXQUFXO0VBQ1gsdUJBQXVCO0VBQ3ZCLGtCQUFrQjs7QUFFcEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsWUFBWTtFQUNaLFdBQVc7RUFDWCx1QkFBdUI7RUFDdkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsY0FBYztFQUNkLFlBQVk7RUFDWixXQUFXO0VBQ1gsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLHVCQUF1QjtBQUN6QiIsInNvdXJjZXNDb250ZW50IjpbIiN0cmFmZmljTGlnaHRDb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgcGFkZGluZzogNXB4O1xuICBtYXJnaW46IDVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIGJvcmRlci1yYWRpdXM6IDE1JTtcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XG59XG5cbiNyZWR7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBoZWlnaHQ6IDUwcHg7XG4gIHdpZHRoOiA1MHB4O1xuICBib3JkZXI6IGJsYWNrIDFweCBzb2xpZDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuXG59XG5cbiN5ZWxsb3d7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBoZWlnaHQ6IDUwcHg7XG4gIHdpZHRoOiA1MHB4O1xuICBib3JkZXI6IGJsYWNrIDFweCBzb2xpZDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4jZ3JlZW57XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBoZWlnaHQ6IDUwcHg7XG4gIHdpZHRoOiA1MHB4O1xuICBib3JkZXI6IGJsYWNrIDFweCBzb2xpZDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4ucmVke1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG5cbi55ZWxsb3d7XG4gIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcbn1cblxuLmdyZWVue1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["TrafficLightComponent","constructor","config","red","duration","next","yellow","green","stop","c","ngOnInit","lights","color","setTimeout","stopLights","selectors","decls","vars","consts","template","TrafficLightComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵlistener","TrafficLightComponent_Template_button_click_4_listener","ɵɵtext","ɵɵadvance","ɵɵproperty","ɵɵpureFunction3","_c0"],"sources":["/Users/yuqingyang/Desktop/Marlabs/TrafficLights/src/app/traffic-light/traffic-light.component.ts","/Users/yuqingyang/Desktop/Marlabs/TrafficLights/src/app/traffic-light/traffic-light.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {config} from \"rxjs\";\n\n@Component({\n  selector: 'app-traffic-light',\n  templateUrl: './traffic-light.component.html',\n  styleUrls: ['./traffic-light.component.css']\n})\nexport class TrafficLightComponent implements OnInit {\n\n  config: any = {\n    red: {\n      duration: 4000,\n      next: 'green',\n    },\n    yellow: {\n      duration: 500,\n      next: 'red',\n    },\n    green: {\n      duration: 3000,\n      next: 'yellow',\n    },\n  };\n\n  stop: boolean = false;\n  c: string = '';\n  constructor() { }\n\n  ngOnInit(): void {\n    this.lights('red');\n  }\n\n\n  lights(color: string) {\n    const {duration,next} = this.config[color];\n    this.c = color;\n\n    if(stop === false){\n      setTimeout(()=>{\n        this.lights(next);\n      }, duration)\n    }\n\n\n    // console.log(this.config[color])\n    // setInterval(()=>{this.lights(color.next)}, color.duration)\n    // setTimeout(()=>{\n    //\n    //   if(!this.stop){\n    //     this.lights(this.config.color.next)\n    //   }\n    // }, color.duration);\n  }\n\n  stopLights(){\n    this.stop = true\n  }\n\n\n}\n","<div id=\"trafficLightContainer\">\n  <div id=\"red\" [ngClass]=\"{'red': c == 'red', 'green': c == 'green', 'yellow': c == 'yellow'}\"></div>\n  <div id=\"yellow\"></div>\n  <div id=\"green\"></div>\n</div>\n\n<button type=\"button\" (click)=\"stopLights()\">Stop</button>\n"],"mappings":";;;;;;;;;;AAQA,OAAM,MAAOA,qBAAqB;EAmBhCC,YAAA;IAjBA,KAAAC,MAAM,GAAQ;MACZC,GAAG,EAAE;QACHC,QAAQ,EAAE,IAAI;QACdC,IAAI,EAAE;OACP;MACDC,MAAM,EAAE;QACNF,QAAQ,EAAE,GAAG;QACbC,IAAI,EAAE;OACP;MACDE,KAAK,EAAE;QACLH,QAAQ,EAAE,IAAI;QACdC,IAAI,EAAE;;KAET;IAED,KAAAG,IAAI,GAAY,KAAK;IACrB,KAAAC,CAAC,GAAW,EAAE;EACE;EAEhBC,QAAQA,CAAA;IACN,IAAI,CAACC,MAAM,CAAC,KAAK,CAAC;EACpB;EAGAA,MAAMA,CAACC,KAAa;IAClB,MAAM;MAACR,QAAQ;MAACC;IAAI,CAAC,GAAG,IAAI,CAACH,MAAM,CAACU,KAAK,CAAC;IAC1C,IAAI,CAACH,CAAC,GAAGG,KAAK;IAEd,IAAGJ,IAAI,KAAK,KAAK,EAAC;MAChBK,UAAU,CAAC,MAAI;QACb,IAAI,CAACF,MAAM,CAACN,IAAI,CAAC;MACnB,CAAC,EAAED,QAAQ,CAAC;;IAId;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;;EAEAU,UAAUA,CAAA;IACR,IAAI,CAACN,IAAI,GAAG,IAAI;EAClB;;SAjDWR,qBAAqB;;mBAArBA,MAAqB;AAAA;;QAArBA,MAAqB;EAAAe,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCRlCE,EAAA,CAAAC,cAAA,aAAgC;MAC9BD,EAAA,CAAAE,SAAA,aAAoG;MAGtGF,EAAA,CAAAG,YAAA,EAAM;MAENH,EAAA,CAAAC,cAAA,gBAA6C;MAAvBD,EAAA,CAAAI,UAAA,mBAAAC,uDAAA;QAAA,OAASN,GAAA,CAAAR,UAAA,EAAY;MAAA,EAAC;MAACS,EAAA,CAAAM,MAAA,WAAI;MAAAN,EAAA,CAAAG,YAAA,EAAS;;;MAL1CH,EAAA,CAAAO,SAAA,GAA+E;MAA/EP,EAAA,CAAAQ,UAAA,YAAAR,EAAA,CAAAS,eAAA,IAAAC,GAAA,EAAAX,GAAA,CAAAb,CAAA,WAAAa,GAAA,CAAAb,CAAA,aAAAa,GAAA,CAAAb,CAAA,cAA+E"},"metadata":{},"sourceType":"module","externalDependencies":[]}